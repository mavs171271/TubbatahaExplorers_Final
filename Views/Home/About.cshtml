@{
    ViewData["Title"] = "About Page";
}

<style>
    .uniform-image {
        width: 100%;
        max-width: 500px; /* Set a medium size for images */
        height: auto; /* Maintain aspect ratio */
        object-fit: cover;
        display: block;
        margin: 0 auto; /* Center the image */
    }

    .chart-container {
        width: 100%;
        max-width: 500px; /* Match the size of the images */
        margin: 0 auto; /* Center the chart */
    }
</style>

<section class="container mt-5">
    <!-- Header for Tubbataha Reef Information -->
    <div class="row">
        <div class="col-12">
            <h3 class="text-center">What is Tubbataha Reef?</h3>
        </div>
    </div>

    <!-- Responsive Image and Text Centered -->
    <div class="row justify-content-center">
        <div class="col-md-8 text-center">
            <img src="https://www.zubludiving.com/images/Philippines/Palawan/Tubbataha/Tubbataha-Reefs-Diving-Philippines-Banner.jpg" alt="Tubbataha Reef" class="uniform-image mb-4" />
            <p class="mt-4">
                Tubbataha Reefs Natural Park is a marine protected area and world-renowned scuba diving site. It is home to more than 1,200 marine species,
                including sea grasses and algae, corals, sharks, rays, fishes, sea turtles, seabirds, and marine mammals. It is a unique example of an atoll reef with a very high density of marine species; the North Islet serving as a nesting site for birds and marine turtles. The site is an excellent example of a pristine coral reef with a spectacular 100-m perpendicular wall, extensive lagoons, and two coral islands.
            </p>
        </div>
    </div>

    <!-- How it has changed over time -->
    <div class="row mt-5">
        <div class="col-12">
            <h3 class="text-center">How has it changed over time?</h3>
            <p class="mt-3">
                Extreme temperatures caused by climate change resulted in coral bleaching, which affected up to 20% of the hard coral cover of the park in 2020. Hard coral cover continued to decline in 2021, indicating that some sites failed to recover from its impacts.
            </p>
        </div>
    </div>

    <!-- Conservation Practices Section -->
    <div class="row mt-5">
        <div class="col-12">
            <h3 class="text-center">Conservation Practices at Tubbataha Reef</h3>
            <ul class="list-group mt-3">
                <li class="list-group-item"><strong>Protected Area Status:</strong> No fishing or extraction activities are allowed.</li>
                <li class="list-group-item"><strong>Law Enforcement:</strong> Regular patrols by the coast guard and navy to prevent illegal activities.</li>
                <li class="list-group-item"><strong>Research and Monitoring:</strong> Continuous assessments of reef health and biodiversity.</li>
                <li class="list-group-item"><strong>Controlled Tourism:</strong> Limited diving permits and strict guidelines to minimize impact.</li>
                <li class="list-group-item"><strong>Community Education:</strong> Awareness programs on marine conservation for local communities.</li>
                <li class="list-group-item"><strong>Coral Resilience Efforts:</strong> Coral restoration programs to combat climate change effects.</li>
                <li class="list-group-item"><strong>Funding Support:</strong> Backed by local and international funding for conservation work.</li>
            </ul>
        </div>
    </div>

    <section class="mb-4">
        <h2>Featured Video</h2>
        <div id="videoContainer">
            <p>Loading video...</p>
        </div>

        <script>
            // Replace with your actual YouTube Data API key
            const apiKey = '-------------------------------';

            // Function to load video details and embed it
            async function loadVideo(videoId) {
                try {
                    // Fetch video details from YouTube API
                    const response = await fetch(`https://www.googleapis.com/youtube/v3/videos?id=${videoId}&key=${apiKey}&part=snippet`);
                    const data = await response.json();

                    // Check if any video details were found
                    if (data.items.length > 0) {
                        const videoTitle = data.items[0].snippet.title;
                        const videoDescription = data.items[0].snippet.description;

                        // Embed the video in an iframe and display title and description
                        document.getElementById('videoContainer').innerHTML = `
                                                    <h3>${videoTitle}</h3>
                                                    <div class="video-wrapper">
                                                        <div class="responsive-video">
                                                            <iframe src="https://www.youtube.com/embed/${videoId}"
                                                                    frameborder="0"
                                                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                                                    allowfullscreen></iframe>
                                                        </div>
                                                    </div>
                                                    <p class="mt-3">${videoDescription}</p>
                                                `;
                    } else {
                        document.getElementById('videoContainer').innerHTML = '<p>Video not found.</p>';
                    }
                } catch (error) {
                    console.error('Error fetching video:', error);
                    document.getElementById('videoContainer').innerHTML = '<p>Error loading video.</p>';
                }
            }

            // Load a specific video by its ID
            loadVideo('EcRjtIqeYT4'); // Replace with the ID of the video you want to display
        </script>
    </section>



    <!-- Chart Section -->
    <div class="row mt-5">
        <div class="col-12">
            <h3 class="text-center">Species Distribution in Tubbataha Reef</h3>
            <div class="chart-container">
                <canvas id="speciesPieChart"></canvas>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        var ctx = document.getElementById('speciesPieChart').getContext('2d');
        var speciesPieChart = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: @Html.Raw(Json.Serialize(Model.labels)),
                datasets: [{
                    data: @Html.Raw(Json.Serialize(Model.values)),
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.7)',
                        'rgba(54, 162, 235, 0.7)',
                        'rgba(75, 0, 130, 0.7)',
                        'rgba(255, 206, 86, 0.7)',
                        'rgba(153, 102, 255, 0.7)',
                        'rgba(255, 159, 64, 0.7)',
                        'rgba(60, 179, 113, 0.7)'
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(75, 0, 130, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)',
                        'rgba(60, 179, 113, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        display: true,
                        position: 'top'
                    }
                }
            }
        });
    </script>

    <!-- Additional Information Paragraph -->
    <div class="row mt-5">
        <div class="col-12">
            <p class="text-center">
                This data highlights the critical biodiversity of marine ecosystems, with groups like bony fishes and corals dominating in numbers, while others like seagrass, elasmobranchs, and cetaceans are less represented but equally vital. Conservation efforts should prioritize sustainable practices such as protecting coral reefs from bleaching, reducing overfishing of bony fishes, and preserving habitats for vulnerable species like seabirds and elasmobranchs. Addressing pollution, especially plastic and nutrient runoff, is essential to safeguarding species like invertebrates and seagrasses. Additionally, community education and the enforcement of marine protected areas can help ensure the long-term balance and health of these ecosystems, promoting biodiversity resilience against climate change and human activities.
            </p>
        </div>
    </div>

    <!-- About the Developers Section -->
    <div class="row mt-5">
        <div class="col-12 text-center">
            <h3>About the Developers</h3>
            <div class="text-center mb-4">
                <img src="~/css/logo/Interface operatives.jpg" alt="InterfaceOperatives" class="uniform-image mb-4" />
            </div>
            <p class="mt-4">
                Interface Operatives is a group of developers working on the Tubbataha Reef conservation project. The team's mission is to provide engaging, informative, and user-friendly platforms that support environmental awareness and conservation efforts. The developers come from diverse backgrounds in software development, web design, and environmental science, bringing their expertise to create interactive and impactful tools for users to learn about and support the protection of marine ecosystems.
            </p>
        </div>
    </div>
</section>
